<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Qurłacoin Clicker</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      background-color: #0d1117;
      color: #c9d1d9;
      margin: 0;
      padding: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    h1 {
      margin-top: 20px;
    }
    #coin {
      width: 150px;
      cursor: pointer;
      transition: transform 0.1s ease-in-out;
    }
    #coin:active {
      transform: scale(0.95);
    }
    #hp-bar-container {
      width: 80%;
      height: 20px;
      background: #555;
      border-radius: 10px;
      margin: 20px;
    }
    #hp-bar {
      height: 100%;
      background: limegreen;
      width: 100%;
      border-radius: 10px;
    }
    #stats {
      margin: 10px 0;
    }
    #inventory {
      display: grid;
      grid-template-columns: repeat(5, 70px);
      gap: 10px;
      background: #161b22;
      padding: 10px;
      border-radius: 10px;
      margin-top: 20px;
    }
    .slot {
      width: 64px;
      height: 64px;
      background-color: #2d333b;
      border: 2px solid #444c56;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
    }
    .slot img {
      max-width: 60px;
      max-height: 60px;
    }
    .tooltip {
      visibility: hidden;
      background-color: black;
      color: white;
      text-align: center;
      padding: 5px;
      border-radius: 6px;
      position: absolute;
      z-index: 1;
      bottom: 70px;
      left: 50%;
      transform: translateX(-50%);
      white-space: nowrap;
    }
    .slot:hover .tooltip {
      visibility: visible;
    }
    #shop, #buttons, #messages {
      margin: 20px;
    }
    button {
      background-color: #238636;
      color: white;
      border: none;
      padding: 10px 20px;
      margin: 5px;
      cursor: pointer;
      border-radius: 5px;
    }
    button:hover {
      background-color: #2ea043;
    }
  </style>
</head>
<body>
  <h1>Qurłacoin Clicker</h1>
  <div id="hp-bar-container">
    <div id="hp-bar"></div>
  </div>
  <img id="coin" src="qurlacoin-clicker-gold-coin.png" onclick="clickCoin()" alt="Qurłacoin">
  <div id="stats">
    <p>QurłaPoints: <span id="points">0</span></p>
    <p>Energy: <span id="energy">10</span>/<span id="maxEnergy">10</span></p>
    <p>DMG: <span id="dmg">1</span></p>
    <p>EXP: <span id="exp">0</span> | Level: <span id="level">1</span></p>
  </div>
  <div id="buttons">
    <button onclick="openShop()">Open Shop</button>
    <button onclick="watchAd()">Watch Ad (+10 QurłaPoints)</button>
  </div>
  <div id="shop" style="display:none">
    <button onclick="buyUpgrade('dmg')">Upgrade DMG (Cost: <span id="dmgCost">10</span>)</button>
    <button onclick="buyUpgrade('energyLimit')">Increase Max Energy (Cost: <span id="energyCost">10</span>)</button>
    <button onclick="buyUpgrade('regen')">Increase Energy Regen (Cost: <span id="regenCost">10</span>)</button>
  </div>
  <div id="messages"></div>
  <div id="inventory"></div>

  <script>
    let points = 0;
    let energy = 10;
    let maxEnergy = 10;
    let dmg = 1;
    let exp = 0;
    let level = 1;
    let regen = 5;
    let hp = 100;
    let maxHp = 100;
    let dmgCost = 10, energyCost = 10, regenCost = 10;
    let inventory = [];
    const inventorySize = 20;

    const items = [
      { name: "Energy Potion", img: "items/energy.png", desc: "+10 energy instantly" },
      { name: "Attack Potion", img: "items/attack.png", desc: "+2 DMG for 30s" },
      { name: "Passat B2 NFT Shard", img: "items/b2.png", desc: "Collect 5 to mint B2 NFT" },
      { name: "Passat B3 NFT Shard", img: "items/b3.png", desc: "Collect 5 to mint B3 NFT" },
      { name: "Passat B4 NFT Shard", img: "items/b4.png", desc: "Collect 5 to mint B4 NFT" },
      { name: "Passat B5 NFT Shard", img: "items/b5.png", desc: "Collect 5 to mint B5 NFT" },
      { name: "Żulikowy Beret", img: "items/beret.png", desc: "Stylowy dodatek" },
      { name: "Paragon z Biedronki", img: "items/paragon.png", desc: "Dowód honoru" },
      { name: "JinLing", img: "items/jinling.png", desc: "Typowy zapas z bazaru" },
      { name: "Skarpetki w sandałach", img: "items/skarpety.png", desc: "Janusz Style" },
    ];

    function clickCoin() {
      if (energy <= 0) return;
      energy--;
      hp -= dmg;
      document.getElementById("energy").innerText = energy;
      updateHP();
      if (hp <= 0) {
        maxHp += 20;
        hp = maxHp;
        exp += 10;
        points += 5;
        checkLevelUp();
        maybeDropItem();
      }
      document.getElementById("points").innerText = points;
      document.getElementById("exp").innerText = exp;
    }

    function updateHP() {
      const bar = document.getElementById("hp-bar");
      bar.style.width = `${(hp / maxHp) * 100}%`;
    }

    function checkLevelUp() {
      const required = level * 50;
      if (exp >= required) {
        level++;
        exp = 0;
        document.getElementById("level").innerText = level;
        showMessage("Level Up!");
      }
    }

    function maybeDropItem() {
      if (Math.random() < 0.4 && inventory.length < inventorySize) {
        const item = items[Math.floor(Math.random() * items.length)];
        inventory.push(item);
        updateInventory();
        showMessage(`You received: ${item.name}`);
      }
    }

   function updateInventory() {
  const inv = document.getElementById("inventory");
  inv.innerHTML = "";
  for (let i = 0; i < inventorySize; i++) {
    const slot = document.createElement("div");
    slot.className = "slot";
    if (inventory[i]) {
      const img = document.createElement("img");
      img.src = inventory[i].img;
      img.alt = inventory[i].name;

      const tooltip = document.createElement("div");
      tooltip.className = "tooltip";
      tooltip.innerText = `${inventory[i].name} - ${inventory[i].desc}`;

      slot.appendChild(img);
      slot.appendChild(tooltip);
    }
    inv.appendChild(slot);
  }
}


    function openShop() {
  document.getElementById("shop").style.display = "block";
}

    function buyUpgrade(type) {
      if (type === 'dmg' && points >= dmgCost) {
        points -= dmgCost;
        dmg = Math.round(dmg * 1.5);
        dmgCost *= 2;
        document.getElementById("dmg").innerText = dmg;
        document.getElementById("dmgCost").innerText = dmgCost;
      } else if (type === 'energyLimit' && points >= energyCost) {
        points -= energyCost;
        maxEnergy = Math.round(maxEnergy * 1.5);
        energy = maxEnergy;
        energyCost *= 2;
        document.getElementById("maxEnergy").innerText = maxEnergy;
        document.getElementById("energy").innerText = energy;
        document.getElementById("energyCost").innerText = energyCost;
      } else if (type === 'regen' && points >= regenCost) {
        points -= regenCost;
        regen = Math.max(1, regen - 1);
        regenCost *= 2;
        document.getElementById("regenCost").innerText = regenCost;
      }
      document.getElementById("points").innerText = points;
    }

    function watchAd() {
      points += 10;
      document.getElementById("points").innerText = points;
      showMessage("+10 QurłaPoints!");
    }

    function showMessage(msg) {
      const div = document.getElementById("messages");
      const p = document.createElement("p");
      p.innerText = msg;
      div.appendChild(p);
      setTimeout(() => div.removeChild(p), 3000);
    }

    setInterval(() => {
      if (energy < maxEnergy) {
        energy++;
        document.getElementById("energy").innerText = energy;
      }
    }, regen * 1000);
  </script>
</body>
</html>
